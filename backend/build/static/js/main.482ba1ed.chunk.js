(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(20),c=n.n(r),i=n(8),o=n(5),s=n(2),l=n(7),p=localStorage.getItem("Token")?localStorage.getItem("Token"):"",j=Object(l.b)({key:"tokenState",default:p}),u=n(1),d=function(){var e=Object(l.c)(j),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(o.f)();return Object(u.jsx)("div",{children:n?Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"50px"},children:[Object(u.jsx)("div",{children:Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("img",{src:"../../logo192.png",style:{display:"inline-block",width:"50px"}})})}),Object(u.jsxs)("div",{children:[Object(u.jsx)(i.b,{to:"/",style:{marginRight:"10px"},children:"\uc11c\ube44\uc2a4"}),Object(u.jsx)(i.b,{to:"/mypage/order",style:{marginRight:"10px"},children:"\ub9c8\uc774\ud398\uc774\uc9c0"}),Object(u.jsx)(i.b,{to:"/",onClick:function(){window.localStorage.removeItem("Token"),a((function(){return""})),r.push("/logout")},children:"\ub85c\uadf8\uc544\uc6c3"})]})]}):Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"50px"},children:[Object(u.jsx)("div",{children:Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("img",{src:"../../logo192.png",style:{display:"inline-block",width:"50px"}})})}),Object(u.jsxs)("div",{children:[Object(u.jsx)(i.b,{to:"/",style:{marginRight:"10px"},children:"\uc11c\ube44\uc2a4"}),Object(u.jsx)(i.b,{to:"/sign-up",style:{marginRight:"10px"},children:"\ud68c\uc6d0\uac00\uc785"}),Object(u.jsx)(i.b,{to:"/login",style:{marginRight:"10px"},children:"\ub85c\uadf8\uc778"})]})]})})},b=n(4),x=n.n(b),O=n(10),h=n(14),f=n.n(h),m=function(e){var t=e.item,n=e.handleOrder;return Object(u.jsxs)("div",{style:{border:"1px solid black",width:"200px",height:"200px",padding:"10px",marginBottom:"10px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},children:[Object(u.jsx)("div",{children:t.image}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){n(t.id)},children:"\uc8fc\ubb38\ud558\uae30"})})]})},g=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(l.c)(j),i=Object(s.a)(c,2),p=i[0],d=(i[1],Object(a.useState)({})),b=Object(s.a)(d,2),h=(b[0],b[1],Object(o.f)());Object(a.useEffect)((function(){(function(){var e=Object(O.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:5000/mypage/itemlist",{"Content-Type":"application/json"});case 2:t=e.sent,n=t.data,r((function(){return n}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var g=function(){var e=Object(O.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=5;break}alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694"),h.push("/sign-up"),e.next=11;break;case 5:return n={itemId:t},e.next=8,f.a.post("http://localhost:5000/order",n,{headers:{Authorization:"Bearer ".concat(p)},"Content-Type":"application/json"});case 8:a=e.sent,a.data.err?alert("\uc774\ubbf8 \ucd94\uac00 \ub418\uc5b4\uc788\uc2b5\ub2c8\ub2e4."):alert("\uc8fc\ubb38\uc131\uacf5");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)("div",{style:{display:"flex",justifyContent:"space-between",flexFlow:"row wrap",padding:"50px"},children:n.map((function(e){return Object(u.jsx)(m,{item:e,handleOrder:g},e.id)}))})})},y=n(3),v=n(14),w=function(){var e=Object(a.useState)({email:"",password:""}),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(o.f)(),i=Object(l.c)(j),p=Object(s.a)(i,2),d=(p[0],p[1]),b=function(){var e=Object(O.a)(x.a.mark((function e(){var t,a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(y.a)({},n),e.next=3,v.post("http://localhost:5000/login",t,{"Context-Type":"application/json"});case 3:if(a=e.sent,!(r=a.data).err&&r){e.next=8;break}return alert("\ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694"),e.abrupt("return");case 8:d((function(){return r.token})),window.localStorage.setItem("Token",r.token),c.push("/mypage/order");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(u.jsx)("h1",{style:{padding:"10px",marginBottom:"10px"},children:"\ub85c\uadf8\uc778\ud558\uae30"}),Object(u.jsx)("input",{style:{padding:"10px",marginBottom:"10px"},placeholder:"email",name:"email",onChange:function(e){return r(Object(y.a)(Object(y.a)({},n),{},{email:e.target.value}))}}),Object(u.jsx)("input",{style:{padding:"10px",marginBottom:"10px"},placeholder:"password",name:"password",onChange:function(e){return r(Object(y.a)(Object(y.a)({},n),{},{password:e.target.value}))}}),Object(u.jsx)("button",{style:{padding:"10px",marginBottom:"10px"},onClick:b,children:"\uc644\ub8cc"})]})},k=n(19),C=function(e){var t=e.order,n=Object(o.f)();return Object(u.jsxs)("div",{style:{border:"1px solid",width:"200px",height:"50px",padding:"10px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},onClick:function(){n.push("/mypage/order/".concat(t.id))},children:[Object(u.jsx)("div",{children:t.id}),Object(u.jsx)("div",{children:t.itemName})]})},B=function(e){var t=e.location,n=t.search?t.search.split("=")[1]:0,r=Object(l.c)(j),c=Object(s.a)(r,2),i=c[0],p=(c[1],Object(a.useState)([])),d=Object(s.a)(p,2),b=d[0],h=d[1],m=Object(a.useState)(3),g=Object(s.a)(m,2),y=g[0],v=g[1],w=Object(o.f)();Object(a.useEffect)((function(){(function(){var e=Object(O.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:5000/order?page=".concat(n,"}"),{headers:{Authorization:"Bearer ".concat(i)},"Content-Type":"application/json"});case 2:t=e.sent,a=t.data,h((function(){return a.content})),v((function(){return a.totalPages}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]);var B=function(e){w.push("/mypage/order?page=".concat(e.target.value-1))};return Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},children:[b.map((function(e){return Object(u.jsx)(C,{order:e},e.id)})),Object(u.jsx)("div",{children:Object(k.a)(Array(y).keys()).map((function(e){return Object(u.jsx)("button",{onClick:B,value:e+1,children:e+1})}))})]})},S=function(e){var t=e.match,n=Object(l.c)(j),r=Object(s.a)(n,2),c=r[0],i=(r[1],Object(a.useState)({})),o=Object(s.a)(i,2),p=o[0],d=o[1];return Object(a.useEffect)((function(){(function(){var e=Object(O.a)(x.a.mark((function e(){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:5000/order/".concat(t.params.id),{headers:{Authorization:"Bearer ".concat(c)},"Content-Type":"application/json"});case 2:n=e.sent,a=n.data,d((function(){return a}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",border:"1px solid black",padding:"50px"},children:[Object(u.jsx)("div",{children:p.id}),Object(u.jsx)("div",{children:p.itemName})]})},I=(n(68),n(14)),T=function(){var e=Object(l.c)(j),t=Object(s.a)(e,2),n=(t[0],t[1]),r=Object(a.useState)(!1),c=Object(s.a)(r,2),i=c[0],p=c[1],d=Object(a.useState)(!1),b=Object(s.a)(d,2),h=b[0],f=b[1],m=Object(a.useState)({email:"",password:"",password2:"",mobile:""}),g=Object(s.a)(m,2),v=g[0],w=g[1],k=Object(o.f)(),C=Object(a.useRef)(null),B=function(){var e=Object(O.a)(x.a.mark((function e(){var t,a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==v.email.indexOf("@")){e.next=5;break}return alert("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \ud2c0\ub9bd\ub2c8\ub2e4."),C.current.focus(),p(!0),e.abrupt("return");case 5:if(!(v.password.length<8||v.password.length>15)){e.next=9;break}return alert("\ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694"),f(!0),e.abrupt("return");case 9:if(v.password===v.password2){e.next=12;break}return alert("\ube44\ubc00\ubc88\ud638\uac00 \ub2e4\ub984"),e.abrupt("return");case 12:return t=Object(y.a)({},v),e.next=15,I.post("http://localhost:5000/sign-up",t,{"Context-Type":"application/json"});case 15:a=e.sent,r=a.data,n((function(){return r.token})),window.localStorage.setItem("Token",r.token),k.push("/");case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(u.jsx)("h1",{style:{padding:"10px",marginBottom:"10px"},children:"\uac00\uc785\ud558\uae30"}),Object(u.jsx)("input",{className:i?"invalid":null,ref:C,style:{padding:"10px",marginBottom:"10px"},placeholder:"\uc774\uba54\uc77c",name:"email",onChange:function(e){p(!1),w(Object(y.a)(Object(y.a)({},v),{},{email:e.target.value}))}}),Object(u.jsx)("input",{className:h?"invalid":null,style:{padding:"10px",marginBottom:"10px"},placeholder:"\ube44\ubc00\ubc88\ud638",name:"password",onChange:function(e){f(!1),w(Object(y.a)(Object(y.a)({},v),{},{password:e.target.value}))}}),Object(u.jsx)("input",{style:{padding:"10px",marginBottom:"10px"},placeholder:"\ube44\ubc00\ubc88\ud638\ud655\uc778",name:"password2",onChange:function(e){return w(Object(y.a)(Object(y.a)({},v),{},{password2:e.target.value}))}}),Object(u.jsx)("input",{style:{padding:"10px",marginBottom:"10px"},placeholder:"\uc804\ud654\ubc88\ud638",name:"mobile",onChange:function(e){return w(Object(y.a)(Object(y.a)({},v),{},{mobile:e.target.value}))}}),Object(u.jsx)("button",{style:{padding:"10px",marginBottom:"10px"},onClick:B,children:"\uac00\uc785\ud558\uae30"})]})};var R=function(){return Object(u.jsxs)(i.a,{children:[Object(u.jsx)(d,{}),Object(u.jsx)(o.b,{path:"/",component:g,exact:!0}),Object(u.jsx)(o.b,{path:"/sign-up",component:T}),Object(u.jsx)(o.b,{path:"/login",component:w}),Object(u.jsx)(o.b,{path:"/mypage/order",component:B,exact:!0}),Object(u.jsx)(o.b,{path:"/mypage/order/:id",component:S}),Object(u.jsx)(o.b,{path:"/logout",children:Object(u.jsx)(o.a,{to:"/"})})]})};c.a.render(Object(u.jsx)(l.a,{children:Object(u.jsx)(R,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.482ba1ed.chunk.js.map